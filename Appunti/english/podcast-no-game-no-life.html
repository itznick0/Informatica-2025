<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NO GAME NO LIFE Podcast</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #000;
      color: white;
      font-family: 'Courier New', Courier, monospace;
      display: flex;
      min-height: 100vh;
      padding: 20px;
      gap: 20px;
    }

    /* ——— SCROLLBAR PERSONALIZZATA ——— */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 6px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(to bottom, #ff00ff, #00ffff);
      border-radius: 6px;
      border: 2px solid rgba(0, 0, 0, 0.3);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(to bottom, #ff00ff, #00ff00);
    }

    /* Firefox */
    * {
      scrollbar-width: thin;
      scrollbar-color: #ff00ff #000;
    }

    /* ——— SIDEBAR SINISTRA ——— */
    .sidebar {
      width: 240px;
      max-height: calc(100vh - 40px);
      background: rgba(0, 0, 0, 0.7);
      padding: 20px;
      border-radius: 10px;
      overflow-y: auto;
      position: fixed;
      top: 20px;
      left: 20px;
    }

    .sidebar h2 {
      color: #00ffff;
      text-shadow: 0 0 5px #00ffff;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }

    #episodes-list {
      list-style: none;
      padding: 0;
    }

    #episodes-list li {
      padding: 10px 12px;
      margin-bottom: 6px;
      background: rgba(20, 20, 40, 0.6);
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.2s ease;
      border-left: 3px solid transparent;
    }

    #episodes-list li:hover {
      background: rgba(0, 255, 255, 0.2);
      border-left: 3px solid #00ffff;
      transform: translateX(3px);
    }

    #episodes-list li.active {
      background: rgba(255, 0, 255, 0.2);
      border-left: 3px solid #ff00ff;
      color: #ff00ff;
    }

    /* ——— CONTENUTO CENTRALE ——— */
    .main-content {
      margin-left: 280px;
      width: calc(100% - 300px);
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
    }

    /* ——— TITOLO + MOTTO ——— */
    .title-motto-container {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      width: 100%;
      margin-bottom: 20px;
    }

    .neon-title {
      font-size: 3rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: #ff00ff;
      text-shadow:
        0 0 5px #ff00ff,
        0 0 10px #ff00ff,
        0 0 20px #ff00ff,
        0 0 40px #ff00ff;
      line-height: 1.1;
    }

    .motto {
      text-align: right;
      font-family: 'Courier New', monospace;
      font-weight: bold;
      letter-spacing: 2px;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px 15px;
      border-radius: 8px;
    }

    .neon-motto {
      display: flex;
      flex-direction: column;
      gap: 3px;
      align-items: flex-end;
    }

    .neon-motto span {
      font-size: 1.3rem;
      position: relative;
      display: inline-block;
      text-shadow: 0 0 5px currentColor;
      transition: text-shadow 0.3s ease;
    }

    .neon-motto span:hover {
      text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
    }

    .neon-x { color: #00faff; }
    .neon-o { color: #ff0000; text-shadow: 0 0 8px #ff0000; }
    .neon-square { color: #ff00ff; text-shadow: 0 0 8px #ff00ff; }
    .neon-triangle { color: #00ff00; text-shadow: 0 0 8px #00ff00; }

    .symbol {
      font-weight: bold;
      font-size: 1.4rem;
      vertical-align: middle;
    }

    /* ——— LOGO ——— */
    .podcast-logo {
      width: 100%;
      max-width: 300px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
      margin-bottom: 20px;
    }

    /* ——— PLAYER ——— */
    .player-container {
      width: 100%;
      background: rgba(0, 0, 0, 0.7);
      padding: 20px;
      border-radius: 10px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    #audio-player {
      width: 100%;
      display: none;
    }

    .custom-controls {
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    .custom-controls button {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #fff;
      padding: 8px 14px;
      border-radius: 5px;
      transition: all 0.2s ease;
    }

    .custom-controls button:hover {
      color: #ff00ff;
      transform: scale(1.08);
    }

    .progress-container {
      width: 100%;
    }

    #progress-bar {
      width: 100%;
      height: 6px;
      -webkit-appearance: none;
      appearance: none;
      background: #333;
      border-radius: 3px;
      outline: none;
    }

    #progress-bar::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #ff00ff;
      cursor: pointer;
      box-shadow: 0 0 6px #ff00ff;
    }

    #progress-bar::-moz-range-thumb {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #ff00ff;
      cursor: pointer;
      border: none;
      box-shadow: 0 0 6px #ff00ff;
    }

    /* ——— TRASCRIZIONE ——— */
    .episode-text {
      width: 100%;
      background: rgba(0, 0, 0, 0.7);
      padding: 16px;
      border-radius: 10px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .episode-text h3 {
      color: #00ffff;
      margin-bottom: 10px;
      text-shadow: 0 0 5px #00ffff;
      font-size: 1.2rem;
    }

    .transcript-content {
      font-size: 0.95rem;
      line-height: 1.5;
      color: #ddd;
      overflow-y: auto;
      white-space: pre-line;
      flex: 1;
      padding: 10px;
      background: rgba(10, 10, 20, 0.5);
      border-radius: 6px;
    }

    /* ——— MOBILE ——— */
    @media (max-width: 768px) {
      .sidebar {
        position: relative;
        top: 0;
        left: 0;
        width: 100%;
        max-height: 200px;
        margin-bottom: 20px;
      }

      .main-content {
        margin-left: 0;
        width: 100%;
      }

      .title-motto-container {
        flex-direction: column;
        align-items: flex-start;
      }

      .motto {
        align-self: flex-start;
        margin-top: 10px;
      }

      .neon-title {
        font-size: 2.2rem;
      }

      .podcast-logo {
        max-width: 250px;
      }
    }
  </style>
</head>
<body>
  <!-- Sidebar sinistra -->
  <div class="sidebar">
    <h2>Parts</h2>
    <ul id="episodes-list"></ul>
  </div>

  <!-- Contenuto principale -->
  <div class="main-content">
    <!-- Titolo + Motto in una riga -->
    <div class="title-motto-container">
      <h1 class="neon-title">NO GAME<br>NO LIFE</h1>
      <div class="motto">
        <div class="neon-motto">
          <span>JUS<span class="neon-x"><span class="symbol">X</span></span></span>
          <span><span class="neon-o">O</span>NE</span>
          <span>M<span class="neon-square">□</span>RE</span>
          <span>G<span class="neon-triangle">△</span>ME</span>
        </div>
      </div>
    </div>

    <!-- Logo -->
    <img src="./audio/logo.png" alt="Logo Podcast" class="podcast-logo" />

    <!-- Player -->
    <div class="player-container">
      <audio id="audio-player"></audio>
      <div class="custom-controls">
        <button id="play-pause">▶️</button>
        <button id="restart">↩️</button>
      </div>
      <div class="progress-container">
        <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.1" />
      </div>
    </div>

    <!-- Trascrizione -->
    <div class="episode-text">
      <h3>Transcription</h3>
      <div id="transcript" class="transcript-content">
        Seleziona un episodio per vedere la trascrizione.
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const episodesList = document.getElementById('episodes-list');
      const audioPlayer = document.getElementById('audio-player');
      const playPauseBtn = document.getElementById('play-pause');
      const restartBtn = document.getElementById('restart');
      const progressBar = document.getElementById('progress-bar');
      const transcriptDiv = document.getElementById('transcript');

      let currentEpisodeIndex = -1;

      // Genera 15 episodi
      for (let i = 1; i <= 15; i++) {
        const li = document.createElement('li');
        li.textContent = `Part ${i}`;
        li.addEventListener('click', () => loadEpisode(i));
        episodesList.appendChild(li);
      }

      function loadEpisode(index) {
        const newIndex = index - 1;

        // Ferma l'episodio precedente
        if (currentEpisodeIndex !== -1 && audioPlayer.src) {
          audioPlayer.pause();
          audioPlayer.currentTime = 0;
        }

        // Carica audio
        const audioUrl = `audio/episodio${index}.mp3`;
        audioPlayer.src = audioUrl;
        audioPlayer.load();

        // Aggiorna UI
        updateActiveEpisode(newIndex);

        // Carica testo
        transcriptDiv.textContent = 'Caricamento trascrizione...';
        fetch(`audio/episodio${index}.txt`)
          .then(response => response.ok ? response.text() : Promise.reject())
          .then(text => {
            transcriptDiv.textContent = text.trim() || 'Nessuna trascrizione disponibile.';
          })
          .catch(() => {
            transcriptDiv.innerHTML = `<em style="color:#ff5555">⚠ Transcription not found</em>`;
          });

        // Avvia riproduzione
        audioPlayer.play().then(() => {
          playPauseBtn.textContent = '⏸️';
        }).catch(() => {
          playPauseBtn.textContent = '▶️';
        });

        currentEpisodeIndex = newIndex;
      }

      function updateActiveEpisode(index) {
        const items = episodesList.querySelectorAll('li');
        items.forEach((item, i) => {
          item.classList.toggle('active', i === index);
        });
      }

      // Controlli
      playPauseBtn.addEventListener('click', () => {
        if (audioPlayer.paused) {
          audioPlayer.play();
          playPauseBtn.textContent = '⏸️';
        } else {
          audioPlayer.pause();
          playPauseBtn.textContent = '▶️';
        }
      });

      restartBtn.addEventListener('click', () => {
        audioPlayer.currentTime = 0;
        audioPlayer.play();
        playPauseBtn.textContent = '⏸️';
      });

      audioPlayer.addEventListener('timeupdate', () => {
        if (audioPlayer.duration) {
          progressBar.value = (audioPlayer.currentTime / audioPlayer.duration) * 100;
        }
      });

      progressBar.addEventListener('input', () => {
        if (audioPlayer.duration) {
          audioPlayer.currentTime = (progressBar.value / 100) * audioPlayer.duration;
        }
      });

      audioPlayer.addEventListener('ended', () => {
        playPauseBtn.textContent = '▶️';
      });

      // Carica Episodio 1 all'avvio
      if (episodesList.children.length > 0) {
        episodesList.children[0].click();
      }
    });
  </script>
</body>
</html>